{"id":"osv-cia","title":"OpenCode Session Viewer","description":"A web-based viewer for OpenCode exported session JSON files. Allows users to browse, search, and navigate through AI coding sessions with collapsible sections, markdown rendering, and theme support.\n\n## Tech Stack\n- React 18 + TypeScript\n- Vite 5 (build tool)\n- Tailwind CSS 3 (styling)\n- Zustand (state management)\n- react-markdown + react-syntax-highlighter (markdown/code rendering)\n- lucide-react (icons)\n\n## Key Features\n- Document-style layout with full-width blocks\n- Collapsible assistant responses and individual steps\n- Inline tool call chips that expand in place\n- Auto-collapsed reasoning/thinking sections\n- Full markdown rendering with syntax highlighting\n- Dark/light theme with system preference detection\n- Sidebar navigation with message index\n- Jump-to dropdown for quick navigation\n- Full-text search\n- Multiple session loading methods: file picker, drag-drop, URL parameter\n\n## Session Data Structure\nSessions are JSON files with:\n- info: Session metadata (id, title, timestamps, cost, tokens)\n- messages: Array of user/assistant messages\n- Each message has parts: text, tool, reasoning, file, step-start, step-finish\n\n## Deployment Target\nGitHub Pages (static hosting)","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-01T21:35:10.269584+01:00","updated_at":"2026-01-01T21:35:10.269584+01:00"}
{"id":"osv-cia.1","title":"Phase 1: Project Setup","description":"Initialize the React + Vite + Tailwind project with TypeScript and configure all tooling.\n\n## Tasks\n1. Initialize Vite with React + TypeScript template\n2. Install and configure Tailwind CSS with PostCSS\n3. Set up dark/light theme with system preference detection\n4. Create basic folder structure\n5. Configure Vite for GitHub Pages deployment (base path)\n\n## Dependencies to Install\n```json\n{\n  \"dependencies\": {\n    \"react\": \"^18.x\",\n    \"react-dom\": \"^18.x\",\n    \"react-markdown\": \"^9.x\",\n    \"react-syntax-highlighter\": \"^15.x\",\n    \"lucide-react\": \"^0.x\",\n    \"zustand\": \"^4.x\"\n  },\n  \"devDependencies\": {\n    \"@types/react\": \"^18.x\",\n    \"@vitejs/plugin-react\": \"^4.x\",\n    \"autoprefixer\": \"^10.x\",\n    \"postcss\": \"^8.x\",\n    \"tailwindcss\": \"^3.x\",\n    \"typescript\": \"^5.x\",\n    \"vite\": \"^5.x\"\n  }\n}\n```\n\n## Folder Structure\n```\nsrc/\nâ”œâ”€â”€ main.tsx\nâ”œâ”€â”€ App.tsx\nâ”œâ”€â”€ index.css           # Tailwind directives\nâ”œâ”€â”€ types/\nâ”œâ”€â”€ hooks/\nâ”œâ”€â”€ utils/\nâ”œâ”€â”€ components/\nâ””â”€â”€ store/\n```","acceptance_criteria":"- [ ] Vite dev server runs without errors\n- [ ] Tailwind classes work correctly\n- [ ] Dark/light theme toggles properly\n- [ ] System preference is detected on first load\n- [ ] All dependencies installed\n- [ ] Folder structure created\n- [ ] TypeScript compiles without errors","status":"closed","priority":1,"issue_type":"feature","estimated_minutes":30,"created_at":"2026-01-01T21:35:22.891419+01:00","updated_at":"2026-01-01T21:54:27.743127+01:00","closed_at":"2026-01-01T21:54:27.743127+01:00","close_reason":"Implemented and verified","dependencies":[{"issue_id":"osv-cia.1","depends_on_id":"osv-cia","type":"parent-child","created_at":"2026-01-01T21:35:22.893997+01:00","created_by":"daemon"}]}
{"id":"osv-cia.1.1","title":"Add missing eslint.config.js file","description":"package.json has ESLint dependencies and a lint script but no eslint.config.js exists. The npm run lint command fails with 'ESLint couldn't find an eslint.config.(js|mjs|cjs) file'. Create eslint.config.js with React/TypeScript configuration using the eslint v9 flat config format.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T21:50:21.381541+01:00","updated_at":"2026-01-01T21:51:16.686816+01:00","closed_at":"2026-01-01T21:51:16.686816+01:00","close_reason":"Added eslint.config.js with React/TypeScript configuration","dependencies":[{"issue_id":"osv-cia.1.1","depends_on_id":"osv-cia.1","type":"parent-child","created_at":"2026-01-01T21:50:21.382498+01:00","created_by":"jgordijn"}]}
{"id":"osv-cia.1.2","title":"Add aria-label to ThemeToggle buttons","description":"File: src/components/ThemeToggle.tsx. The theme toggle buttons use only title attribute which is not announced by screen readers. Add aria-label attributes for accessibility. Example: aria-label='Switch to light mode'","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T21:50:23.51919+01:00","updated_at":"2026-01-01T21:51:38.050141+01:00","closed_at":"2026-01-01T21:51:38.050141+01:00","close_reason":"Added aria-label to all ThemeToggle buttons","dependencies":[{"issue_id":"osv-cia.1.2","depends_on_id":"osv-cia.1","type":"parent-child","created_at":"2026-01-01T21:50:23.520079+01:00","created_by":"jgordijn"}]}
{"id":"osv-cia.1.3","title":"Add aria-pressed state to ThemeToggle buttons","description":"File: src/components/ThemeToggle.tsx. The toggle buttons don't indicate their selected state to screen readers. Add aria-pressed={theme === 'light'} (and corresponding for dark/system) to each button for proper accessibility.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T21:50:25.279902+01:00","updated_at":"2026-01-01T21:51:38.274439+01:00","closed_at":"2026-01-01T21:51:38.274439+01:00","close_reason":"Added aria-pressed state to all ThemeToggle buttons","dependencies":[{"issue_id":"osv-cia.1.3","depends_on_id":"osv-cia.1","type":"parent-child","created_at":"2026-01-01T21:50:25.280834+01:00","created_by":"jgordijn"}]}
{"id":"osv-cia.1.4","title":"Fix favicon reference in index.html","description":"File: index.html line 5. The href='/vite.svg' points to a non-existent file. Either add the vite.svg file to the public folder, or remove the link tag, or add a proper favicon. Note: absolute path /vite.svg won't work when deployed to /opencode-session-viewer/ base path - should use relative path or base-aware path.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T21:50:28.285487+01:00","updated_at":"2026-01-01T21:52:03.361988+01:00","closed_at":"2026-01-01T21:52:03.361988+01:00","close_reason":"Added favicon.svg and fixed href to use relative path","dependencies":[{"issue_id":"osv-cia.1.4","depends_on_id":"osv-cia.1","type":"parent-child","created_at":"2026-01-01T21:50:28.286484+01:00","created_by":"jgordijn"}]}
{"id":"osv-cia.2","title":"Phase 2: TypeScript Types \u0026 Data Layer","description":"Define TypeScript types for the session JSON schema and create utilities for data processing.\n\n## Types to Define (src/types/session.ts)\n\n### Session Info\n```typescript\ninterface SessionInfo {\n  id: string;\n  version: string;\n  projectID: string;\n  directory: string;\n  title: string;\n  parentID?: string;\n  share?: { url: string };\n  time: { created: number; updated: number; compacting?: number; archived?: number };\n  summary?: { additions: number; deletions: number; files: number; diffs?: string[] };\n}\n```\n\n### Messages\n```typescript\ntype MessageRole = 'user' | 'assistant';\n\ninterface UserMessage {\n  id: string;\n  sessionID: string;\n  role: 'user';\n  time: { created: number };\n  summary?: { title: string; diffs: string[] };\n  agent: string;\n  model: { providerID: string; modelID: string };\n  system?: string;\n  tools?: Record\u003cstring, boolean\u003e;\n}\n\ninterface AssistantMessage {\n  id: string;\n  sessionID: string;\n  role: 'assistant';\n  parentID: string;\n  time: { created: number; completed?: number };\n  modelID: string;\n  providerID: string;\n  agent: string;\n  mode: string;\n  path: { cwd: string; root: string };\n  cost: number;\n  tokens: { input: number; output: number; reasoning: number; cache: { read: number; write: number } };\n  finish?: string;\n  error?: Error;\n}\n```\n\n### Parts\n```typescript\ntype Part = TextPart | ToolPart | ReasoningPart | FilePart | StepStartPart | StepFinishPart | CompactionPart;\n\ninterface TextPart {\n  type: 'text';\n  id: string;\n  sessionID: string;\n  messageID: string;\n  text: string;\n  time?: { start: number; end?: number };\n}\n\ninterface ToolPart {\n  type: 'tool';\n  id: string;\n  sessionID: string;\n  messageID: string;\n  callID: string;\n  tool: string;\n  state: ToolState;\n}\n\ntype ToolState = \n  | { status: 'pending'; input: unknown; raw: string }\n  | { status: 'running'; input: unknown; title?: string; time: { start: number } }\n  | { status: 'completed'; input: unknown; output: string; title: string; metadata?: unknown; time: { start: number; end: number } }\n  | { status: 'error'; input: unknown; error: string; time: { start: number; end: number } };\n\ninterface ReasoningPart {\n  type: 'reasoning';\n  id: string;\n  sessionID: string;\n  messageID: string;\n  text: string;\n  time?: { start: number; end?: number };\n}\n\ninterface FilePart {\n  type: 'file';\n  id: string;\n  sessionID: string;\n  messageID: string;\n  mime: string;\n  filename?: string;\n  url: string;\n}\n```\n\n## Utilities to Create\n\n### src/utils/groupMessages.ts\nGroup consecutive assistant messages that share the same parentID (user message).\n\n### src/utils/calculateTotals.ts\nCalculate total cost, tokens, and duration from all messages.\n\n### src/utils/formatters.ts\n- formatCost(cost: number): string - Format as \"$0.0234\"\n- formatTokens(tokens: number): string - Format as \"52.8k\"\n- formatDuration(start: number, end: number): string - Format as \"2h 15m\"\n- formatDate(timestamp: number): string - Format as \"Dec 30, 2025 13:18\"","acceptance_criteria":"- [ ] All TypeScript types defined and exported\n- [ ] Types match the actual session.json structure\n- [ ] groupMessages utility correctly groups assistant messages by user message\n- [ ] calculateTotals utility returns accurate cost, tokens, duration\n- [ ] formatters produce human-readable output\n- [ ] No TypeScript errors","status":"closed","priority":1,"issue_type":"feature","estimated_minutes":45,"created_at":"2026-01-01T21:35:45.20279+01:00","updated_at":"2026-01-01T22:09:04.880426+01:00","closed_at":"2026-01-01T22:09:04.880426+01:00","close_reason":"Implemented and verified","dependencies":[{"issue_id":"osv-cia.2","depends_on_id":"osv-cia","type":"parent-child","created_at":"2026-01-01T21:35:45.205623+01:00","created_by":"daemon"},{"issue_id":"osv-cia.2","depends_on_id":"osv-cia.1","type":"blocks","created_at":"2026-01-01T21:37:35.153183+01:00","created_by":"daemon"}]}
{"id":"osv-cia.2.1","title":"Add unit tests for Phase 2 utilities","description":"No tests exist for groupMessages, calculateTotals, and formatters utilities. Add comprehensive unit tests to verify:\n- groupMessages correctly groups assistant messages by parentID\n- calculateTotals accurately sums cost, tokens, and calculates duration\n- All formatter functions produce expected output\n\nFiles to test:\n- src/utils/groupMessages.ts\n- src/utils/calculateTotals.ts\n- src/utils/formatters.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-01T22:03:12.389461+01:00","updated_at":"2026-01-01T22:06:25.128833+01:00","closed_at":"2026-01-01T22:06:25.128833+01:00","close_reason":"Added comprehensive unit tests for all Phase 2 utilities","dependencies":[{"issue_id":"osv-cia.2.1","depends_on_id":"osv-cia.2","type":"parent-child","created_at":"2026-01-01T22:03:12.390355+01:00","created_by":"jgordijn"}]}
{"id":"osv-cia.2.2","title":"Refactor calculateTotals to reduce code duplication","description":"File: src/utils/calculateTotals.ts\n\nThe calculateTotals and calculateMessageTotals functions have significant code duplication for token summing logic (lines 29-66 and 94-127 are nearly identical).\n\nSuggestion: Extract a shared helper function like:\n```typescript\nfunction sumMessageStats(messages: Message[]): { cost, tokens, userCount, assistantCount }\n```\n\nThis would make the code DRYer and easier to maintain.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T22:03:20.69323+01:00","updated_at":"2026-01-01T22:07:00.765602+01:00","closed_at":"2026-01-01T22:07:00.765602+01:00","close_reason":"Extracted sumMessageStats and statsToTotals helper functions to eliminate duplication","dependencies":[{"issue_id":"osv-cia.2.2","depends_on_id":"osv-cia.2","type":"parent-child","created_at":"2026-01-01T22:03:20.69415+01:00","created_by":"jgordijn"}]}
{"id":"osv-cia.2.3","title":"Remove unnecessary type assertion in groupMessages","description":"File: src/utils/groupMessages.ts, line 27\n\nThe code uses `(message.info as AssistantMessageInfo).parentID` but this type assertion is unnecessary because:\n1. The isAssistantMessage type guard already narrows message to AssistantMessage\n2. AssistantMessage.info is typed as AssistantMessageInfo\n\nShould be able to use `message.info.parentID` directly. If TypeScript doesnt narrow correctly, the type guard may need fixing.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T22:03:29.16553+01:00","updated_at":"2026-01-01T22:08:15.988456+01:00","closed_at":"2026-01-01T22:08:15.988456+01:00","close_reason":"Removed unnecessary type assertions - type guards narrow correctly","dependencies":[{"issue_id":"osv-cia.2.3","depends_on_id":"osv-cia.2","type":"parent-child","created_at":"2026-01-01T22:03:29.166477+01:00","created_by":"jgordijn"}]}
{"id":"osv-cia.2.4","title":"Consider browser locale for date formatting","description":"File: src/utils/formatters.ts, lines 101-114\n\nThe formatDate function hardcodes en-US locale:\n```typescript\ndate.toLocaleString(\"en-US\", options)\n```\n\nConsider:\n1. Using undefined (browser default locale): `date.toLocaleString(undefined, options)`\n2. Or making locale configurable via parameter with en-US as default\n\nThis would make the viewer more user-friendly for international users.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T22:03:36.069515+01:00","updated_at":"2026-01-01T22:08:42.386862+01:00","closed_at":"2026-01-01T22:08:42.386862+01:00","close_reason":"Made locale parameter optional, defaults to browser locale","dependencies":[{"issue_id":"osv-cia.2.4","depends_on_id":"osv-cia.2","type":"parent-child","created_at":"2026-01-01T22:03:36.070437+01:00","created_by":"jgordijn"}]}
{"id":"osv-cia.3","title":"Phase 3: Core Layout Components","description":"Build the main layout structure including header, sidebar, and message container.\n\n## Components to Build\n\n### src/components/Header.tsx\nDisplay session metadata at the top:\n- Session title (prominently)\n- Model used (e.g., claude-opus-4-5)\n- Total cost (formatted as currency)\n- Total tokens (formatted with k suffix)\n- Duration (start to end time)\n- File changes summary (X additions, Y deletions, Z files)\n- Theme toggle button (sun/moon icon)\n\n### src/components/Sidebar.tsx\nCollapsible navigation panel on the left:\n- Toggle button to show/hide\n- Contains SearchBar, JumpToDropdown, and MessageIndex\n- Should be responsive (hidden by default on mobile)\n\n### src/components/MessageList.tsx\nMain scrollable content area:\n- Contains all MessageGroup components\n- Handles scroll position for jump-to navigation\n\n### src/components/LoadSession.tsx\nSession loading UI:\n- File picker button (\"Open Session\")\n- Drag \u0026 drop zone with visual feedback\n- URL parameter support (?session=path/to/file.json)\n- Loading and error states\n\n### src/store/sessionStore.ts\nZustand store for app state:\n- session: Session | null\n- isLoading: boolean\n- error: string | null\n- sidebarOpen: boolean\n- theme: 'light' | 'dark' | 'system'\n- loadSession(file: File): Promise\u003cvoid\u003e\n- loadSessionFromUrl(url: string): Promise\u003cvoid\u003e\n\n## Layout Structure\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Header                                                      â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Sidebar  â”‚ MessageList                                      â”‚\nâ”‚ (toggle) â”‚ (scrollable)                                     â”‚\nâ”‚          â”‚                                                  â”‚\nâ”‚          â”‚                                                  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```","acceptance_criteria":"- [ ] Header displays all metadata correctly\n- [ ] Theme toggle works and persists to localStorage\n- [ ] Sidebar can be toggled open/closed\n- [ ] Sidebar is hidden by default on mobile\n- [ ] LoadSession supports file picker\n- [ ] LoadSession supports drag \u0026 drop\n- [ ] LoadSession supports URL parameter\n- [ ] Loading state shows spinner/feedback\n- [ ] Error state shows error message\n- [ ] Zustand store manages all state correctly","status":"in_progress","priority":1,"issue_type":"feature","estimated_minutes":60,"created_at":"2026-01-01T21:36:04.688734+01:00","updated_at":"2026-01-01T22:09:46.87063+01:00","dependencies":[{"issue_id":"osv-cia.3","depends_on_id":"osv-cia","type":"parent-child","created_at":"2026-01-01T21:36:04.691766+01:00","created_by":"daemon"},{"issue_id":"osv-cia.3","depends_on_id":"osv-cia.2","type":"blocks","created_at":"2026-01-01T21:37:35.351358+01:00","created_by":"daemon"}]}
{"id":"osv-cia.4","title":"Phase 4: Message Components","description":"Build the message display components with collapsible sections.\n\n## Components to Build\n\n### src/components/MessageGroup.tsx\nGroups one user message with all its assistant responses:\n- Contains one UserMessage\n- Contains one or more AssistantResponse components\n- The entire assistant response group is collapsible as a whole\n\n### src/components/UserMessage.tsx\nDisplay user input:\n- Distinct visual style (different background color)\n- User icon or label\n- Render text content with markdown\n- Show timestamp on hover or in corner\n\nVisual design:\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ ğŸ‘¤ USER                                                     â”‚\nâ”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚\nâ”‚ Let's plan to implement the provided document...            â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### src/components/AssistantResponse.tsx\nCollapsible container for all steps in an assistant response:\n- Collapse/expand toggle for entire response\n- Visual header showing it's an AI response\n- Contains multiple Step components\n- Shows summary when collapsed (e.g., \"3 steps, 2 tool calls\")\n\nVisual design:\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ ğŸ¤– ASSISTANT                                    [Collapse]  â”‚\nâ”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚\nâ”‚ â–¼ Step 1                                                    â”‚\nâ”‚   ...                                                       â”‚\nâ”‚ â–¼ Step 2                                                    â”‚\nâ”‚   ...                                                       â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### src/components/Step.tsx\nCollapsible step within an assistant response:\n- Divider line at top with \"Step N\" label\n- Collapse/expand toggle\n- Contains Part components (text, tool, reasoning, file)\n- Step boundaries determined by step-start and step-finish parts\n\nVisual design:\n```\nâ–¼ Step 1                                          [Collapse]\nâ”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„\nI'll read the document to understand...\n\n[ğŸ“„ read] /path/to/file.docx                       âŒ error\n```\n\n## Collapse State Management\n- Each AssistantResponse tracks its own collapsed state\n- Each Step tracks its own collapsed state\n- Consider using a Map\u003cid, boolean\u003e in the store for scalability","acceptance_criteria":"- [ ] MessageGroup correctly groups user + assistant messages\n- [ ] UserMessage has distinct visual styling\n- [ ] UserMessage renders markdown content\n- [ ] AssistantResponse is collapsible as a whole\n- [ ] AssistantResponse shows summary when collapsed\n- [ ] Step components are individually collapsible\n- [ ] Step shows divider with step number\n- [ ] Collapse states work independently\n- [ ] Smooth collapse/expand animations","status":"open","priority":1,"issue_type":"feature","estimated_minutes":60,"created_at":"2026-01-01T21:36:24.503271+01:00","updated_at":"2026-01-01T21:36:24.503271+01:00","dependencies":[{"issue_id":"osv-cia.4","depends_on_id":"osv-cia","type":"parent-child","created_at":"2026-01-01T21:36:24.506475+01:00","created_by":"daemon"},{"issue_id":"osv-cia.4","depends_on_id":"osv-cia.3","type":"blocks","created_at":"2026-01-01T21:37:35.542439+01:00","created_by":"daemon"}]}
{"id":"osv-cia.5","title":"Phase 5: Part Renderer Components","description":"Build the individual part renderers for different content types.\n\n## Components to Build\n\n### src/components/parts/TextPart.tsx\nRender text content with full markdown support:\n- Use react-markdown for rendering\n- Use react-syntax-highlighter for code blocks\n- Support tables, lists, headers, bold, italic, links\n- Code blocks should have copy button\n- Syntax highlighting for common languages\n\n### src/components/parts/ToolPart.tsx\nCollapsible tool call chip:\n- Collapsed state shows: [icon] tool-name \"title\" status-icon\n- Status icons: âœ“ for success, âŒ for error, â³ for running\n- Error status uses same style, just different icon (not red background)\n- Expands in-place when clicked\n- Expanded view shows:\n  - Input parameters (formatted JSON)\n  - Output content (may be long, consider max-height with scroll)\n  - Timing information\n  - Error message if failed\n\nVisual design (collapsed):\n```\n[ğŸ–¥ï¸ bash] Extract text from Word document âœ“\n```\n\nVisual design (expanded):\n```\n[ğŸ–¥ï¸ bash] Extract text from Word document âœ“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Input:                                                      â”‚\nâ”‚   command: \"textutil -convert txt -stdout ...\"              â”‚\nâ”‚                                                             â”‚\nâ”‚ Output:                                                     â”‚\nâ”‚   Wat: Project Cookie Clicker spel                          â”‚\nâ”‚   Jaar: 2                                                   â”‚\nâ”‚   ...                                                       â”‚\nâ”‚                                                             â”‚\nâ”‚ Duration: 6.4s                                              â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### src/components/parts/ReasoningPart.tsx\nAuto-collapsed thinking/reasoning section:\n- Collapsed by default\n- Shows \"View thinking\" toggle\n- Dimmed/muted styling when expanded\n- Uses different background color to distinguish from regular text\n\nVisual design:\n```\nğŸ’­ Thinking... [Expand]\n\n--- When expanded: ---\n\nğŸ’­ Thinking                                        [Collapse]\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ (muted text styling)                                        â”‚\nâ”‚ I need to understand the project structure first...         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### src/components/parts/FilePart.tsx\nInline file preview with download:\n- Show inline thumbnail for images\n- Thumbnail max size ~200px\n- Click to download the file\n- Show filename below thumbnail\n- For non-image files, show file icon + filename\n\nVisual design:\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   [image]   â”‚\nâ”‚  thumbnail  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n filename.png\n```\n\n## Tool Icons\nMap tool names to appropriate icons:\n- bash/shell: Terminal icon\n- read: File icon\n- write: Edit icon\n- edit: Edit icon\n- glob: Search icon\n- grep: Search icon\n- skill: Lightbulb icon\n- task: Users icon\n- webfetch: Globe icon\n- Default: Wrench icon","acceptance_criteria":"- [ ] TextPart renders all markdown correctly\n- [ ] Code blocks have syntax highlighting\n- [ ] Code blocks have copy button\n- [ ] ToolPart shows collapsed chip with tool name, title, status\n- [ ] ToolPart expands in-place on click\n- [ ] ToolPart shows input, output, timing when expanded\n- [ ] ToolPart handles error status without red highlighting\n- [ ] ReasoningPart is auto-collapsed by default\n- [ ] ReasoningPart has muted styling when expanded\n- [ ] FilePart shows inline thumbnail for images\n- [ ] FilePart triggers download on click\n- [ ] All tool types have appropriate icons","status":"open","priority":2,"issue_type":"feature","estimated_minutes":90,"created_at":"2026-01-01T21:36:50.20435+01:00","updated_at":"2026-01-01T21:36:50.20435+01:00","dependencies":[{"issue_id":"osv-cia.5","depends_on_id":"osv-cia","type":"parent-child","created_at":"2026-01-01T21:36:50.207577+01:00","created_by":"daemon"},{"issue_id":"osv-cia.5","depends_on_id":"osv-cia.4","type":"blocks","created_at":"2026-01-01T21:37:35.722359+01:00","created_by":"daemon"}]}
{"id":"osv-cia.6","title":"Phase 6: Navigation \u0026 Search","description":"Build navigation components and full-text search functionality.\n\n## Components to Build\n\n### src/components/SearchBar.tsx\nFull-text search input:\n- Search icon + input field\n- Debounced search (300ms delay)\n- Search through all text content (user messages, assistant text, tool outputs)\n- Clear button when search has value\n- Show result count (\"X matches\")\n\n### src/components/MessageIndex.tsx\nClickable list of messages in sidebar:\n- Show user message summaries/previews (first ~50 chars)\n- Indicate which message is currently in view\n- Click to scroll to that message\n- Show message number/index\n- Highlight messages that match current search\n\nVisual design:\n```\n1. Let's plan to implement the...\n2. I'm implementing this as an exam...\n3. No, I would like the vanilla...\n4. 1 B, 2 B, 3 A, 4 A...\n```\n\n### src/components/JumpToDropdown.tsx\nDropdown for quick navigation to user messages:\n- Dropdown button with current message indicator\n- List of all user messages with preview text\n- Select to scroll to that message\n- Keyboard accessible\n\n### src/hooks/useSearch.ts\nSearch state management:\n- searchQuery: string\n- searchResults: SearchResult[]\n- isSearching: boolean\n- performSearch(query: string): void\n- clearSearch(): void\n\nSearchResult type:\n```typescript\ninterface SearchResult {\n  messageId: string;\n  partId: string;\n  type: 'user' | 'assistant' | 'tool';\n  matchText: string;\n  context: string; // surrounding text\n}\n```\n\n## Scroll Behavior\n- Smooth scroll to target message\n- Highlight target message briefly after scrolling\n- Update URL hash when navigating (#msg-123)\n- Support direct linking via hash\n\n## Search Highlighting\n- When search is active, highlight matching text in visible content\n- Use \u003cmark\u003e tags or custom highlighting component","acceptance_criteria":"- [ ] SearchBar has debounced input\n- [ ] Search finds matches in user messages\n- [ ] Search finds matches in assistant text\n- [ ] Search finds matches in tool outputs\n- [ ] Search shows result count\n- [ ] Clear button works\n- [ ] MessageIndex shows all user messages\n- [ ] MessageIndex highlights current message in view\n- [ ] MessageIndex click scrolls to message\n- [ ] MessageIndex highlights search matches\n- [ ] JumpToDropdown lists all user messages\n- [ ] JumpToDropdown selection scrolls to message\n- [ ] Smooth scroll animation\n- [ ] URL hash updates on navigation\n- [ ] Direct link via hash works\n- [ ] Search matches are highlighted in content","status":"open","priority":2,"issue_type":"feature","estimated_minutes":60,"created_at":"2026-01-01T21:37:10.11477+01:00","updated_at":"2026-01-01T21:37:10.11477+01:00","dependencies":[{"issue_id":"osv-cia.6","depends_on_id":"osv-cia","type":"parent-child","created_at":"2026-01-01T21:37:10.118262+01:00","created_by":"daemon"},{"issue_id":"osv-cia.6","depends_on_id":"osv-cia.5","type":"blocks","created_at":"2026-01-01T21:37:35.89908+01:00","created_by":"daemon"}]}
{"id":"osv-cia.7","title":"Phase 7: Polish \u0026 Deployment","description":"Final polish, responsive design, keyboard shortcuts, and GitHub Pages deployment.\n\n## Responsive Design\n- Mobile breakpoint: \u003c 768px\n- Sidebar hidden by default on mobile\n- Sidebar overlays content on mobile when open\n- Header stacks metadata vertically on mobile\n- Tool chips wrap properly on small screens\n- Readable font sizes on all devices\n\n## Keyboard Shortcuts\n- `/` or `Ctrl+K`: Focus search\n- `Escape`: Close search, close sidebar (mobile)\n- `j`/`k`: Navigate between user messages\n- `e`: Expand/collapse current assistant response\n- `?`: Show keyboard shortcuts help\n\n## Performance Optimizations\n- Virtualize message list for large sessions (consider react-window)\n- Lazy load expanded tool outputs\n- Memoize expensive computations\n- Debounce resize handlers\n\n## GitHub Pages Deployment\n1. Configure vite.config.ts:\n```typescript\nexport default defineConfig({\n  base: '/opencode-session-viewer/',\n  // ... other config\n})\n```\n\n2. Create GitHub Actions workflow (.github/workflows/deploy.yml):\n```yaml\nname: Deploy to GitHub Pages\non:\n  push:\n    branches: [main]\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n      - run: npm ci\n      - run: npm run build\n      - uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./dist\n```\n\n3. Enable GitHub Pages in repo settings (gh-pages branch)\n\n## Documentation\n- README.md with:\n  - Project description\n  - Screenshot/demo gif\n  - Usage instructions\n  - Development setup\n  - Deployment instructions\n  - Keyboard shortcuts reference\n\n## Final Checklist\n- All features working\n- No console errors\n- Responsive on mobile/tablet/desktop\n- Keyboard shortcuts work\n- Dark/light theme works\n- Search works\n- Navigation works\n- Session loading works (all 3 methods)\n- Deployed and accessible on GitHub Pages","acceptance_criteria":"- [ ] Responsive design works on mobile\n- [ ] Sidebar behavior correct on mobile\n- [ ] Keyboard shortcut '/' focuses search\n- [ ] Keyboard shortcut 'j/k' navigates messages\n- [ ] Keyboard shortcut 'e' toggles collapse\n- [ ] Keyboard shortcut '?' shows help\n- [ ] Large sessions perform well (no lag)\n- [ ] vite.config.ts configured for GitHub Pages\n- [ ] GitHub Actions workflow created\n- [ ] Deployment successful\n- [ ] README.md complete\n- [ ] No console errors in production","status":"open","priority":2,"issue_type":"feature","estimated_minutes":60,"created_at":"2026-01-01T21:37:27.618228+01:00","updated_at":"2026-01-01T21:37:27.618228+01:00","dependencies":[{"issue_id":"osv-cia.7","depends_on_id":"osv-cia","type":"parent-child","created_at":"2026-01-01T21:37:27.620787+01:00","created_by":"daemon"},{"issue_id":"osv-cia.7","depends_on_id":"osv-cia.6","type":"blocks","created_at":"2026-01-01T21:37:36.070816+01:00","created_by":"daemon"}]}
